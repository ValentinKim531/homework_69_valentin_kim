<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
            integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous">
    </script>
    <title>Title</title>
</head>

<body>
<div id="container">

    <form>
        <p>
            <input type="number" id="first" name="A"/>
            <input type="number" id="second" name="B"/>
        </p>
        <div>
            <button id="buttonAdd" type="button">Сложить</button>
            <button id="buttonSubtract" type="button">Вычесть</button>
            <button id="buttonMultiply" type="button">Умножить</button>
            <button id="buttonDivide" type="button">Разделить</button>
        </div>
    </form>

</div>

<script>

    const h1 = document.createElement('h1');
    h1.className = 'answer'
    $('#container').append(h1)

    const makeColor = (elementNumber, elementColor) => {
        let a = document.getElementsByClassName('answer')
        return a[elementNumber].style.color = elementColor
    }


    let button = document.getElementById('buttonAdd')
    let getDataAdd = function () {
        if ($('.answer').html() !== '') {
            $('.answer').remove();
            const h1 = document.createElement('h1');
            h1.className = 'answer';
            $('#container').append(h1);
        }
        let body = {
            "A": $('#first').val(),
            "B": $('#second').val()
        }
        fetch(url = 'http://127.0.0.1:8000/add/', data = {
            method: 'POST',
            body: JSON.stringify(body)
        })
            .then((response) => {
                return response.json();
            })
            .then((data) => {
                for (let value of Object.values(data)) {
                    const res = `<p>${value}`
                    $('.answer').append(`Ответ сложения: ${res}`);
                    makeColor(0, 'green');
                }
            })
    }
    button.addEventListener('click', function () {
        getDataAdd()
    });

    let button2 = document.getElementById('buttonSubtract')
    let getDataSubtract = function () {
        if ($('.answer').html() !== '') {
            $('.answer').remove();
            const h1 = document.createElement('h1');
            h1.className = 'answer';
            $('#container').append(h1);
        }
        let body = {
            "A": $('#first').val(),
            "B": $('#second').val()
        }
        fetch(url = 'http://127.0.0.1:8000/subtract/', data = {
            method: 'POST',
            body: JSON.stringify(body)
        })
            .then((response) => {
                return response.json();
            })
            .then((data) => {
                for (let value of Object.values(data)) {
                    const res = `<p>${value}`
                    $('.answer').append(`Ответ вычетания: ${res}`);
                    makeColor(0, 'green');
                }
            })
    }
    button2.addEventListener('click', function () {
        getDataSubtract()
    });

    let button3 = document.getElementById('buttonMultiply')
    let getDataMultiply = function () {
        if ($('.answer').html() !== '') {
            $('.answer').remove();
            const h1 = document.createElement('h1');
            h1.className = 'answer';
            $('#container').append(h1);
        }
        let body = {
            "A": $('#first').val(),
            "B": $('#second').val()
        }
        fetch(url = 'http://127.0.0.1:8000/multiply/', data = {
            method: 'POST',
            body: JSON.stringify(body)
        })
            .then((response) => {
                return response.json();
            })
            .then((data) => {
                for (let value of Object.values(data)) {
                    const res = `<p>${value}`
                    $('.answer').append(`Ответ умножения: ${res}`);
                    makeColor(0, 'green');
                }
            })
    }
    button3.addEventListener('click', function () {
        getDataMultiply()
    });

    let button4 = document.getElementById('buttonDivide')
    let getDataDivide = function () {
        if ($('.answer').html() !== '') {
            $('.answer').remove();
            const h1 = document.createElement('h1');
            h1.className = 'answer';
            $('#container').append(h1);
        }
        let body = {
            "A": $('#first').val(),
            "B": $('#second').val()
        }
        fetch(url = 'http://127.0.0.1:8000/divide/', data = {
            method: 'POST',
            body: JSON.stringify(body)
        })
            .then((response) => {
                return response.json();
            })
            .then((data) => {
                for (let value of Object.values(data)) {
                    const res = `<p>${value}`
                    $('.answer').append(`Ответ деления: ${res}`);
                    makeColor(0, 'green');
                }
            })
    }
    button4.addEventListener('click', function () {
        getDataDivide()
    });

</script>


</body>

</html>